<html>
<head>  
   <meta charset="utf-8">
   <link rel="stylesheet" href="https://js.arcgis.com/4.5/esri/css/main.css">
   <script src="https://js.arcgis.com/4.5"></script>
   <style type="text/css">
   	html,body,
   	#viewDiv{
   		padding: 0;
   		margin: 0;
   		width: 100%;
   		height: 100%;
   	}
   </style>
</head>
<body>
	<script>
    require(["esri/config","dojo/_base/declare","esri/layers/BaseTileLayer","esri/geometry/SpatialReference","esri/geometry/Extent","esri/layers/support/TileInfo","esri/Map","esri/views/MapView","dojo/domReady!"],function(esriConfig,declare,BaseTileLayer,SpatialReference,Extent,TileInfo,Map,MapView){
           esriConfig.request.corsEnabledServers.push("http://online1.map.bdimg.com/");
           var BaiduTileLayer=BaseTileLayer.createSubclass({  
		            properties: {
				      urlTemplate: null
				    },
		            getTileUrl: function (level, row, col) {  
		                var zoom = level - 1;  
		                var offsetX = parseInt(Math.pow(2, zoom));  
		                var offsetY = offsetX - 1;  
		                var numX = col - offsetX, numY = (-row) + offsetY ;  
		                var num = (col + row) % 8 + 1;  
		                return this.urlTemplate.replace("{level}", level).replace("{col}",numX).replace("{row}", numY);  
		            }  
		        }); 
          
           var map = new Map();
           var view = new MapView({
           	container:"viewDiv",
           	map:map,
           	zoom:6,
           	center:[65,23]
           });
           var baidulayer = new BaiduTileLayer({
           	urlTemplate:"http://online1.map.bdimg.com/tile/?qt=tile&x={col}&y={row}&z={level}&styles=pl&scaler=1&udt=20171128" 
           });
 
           map.add(baidulayer);
           
           view.on("click",function(evt){
              alert(evt.mapPoint.longitude+"ï¼š"+evt.mapPoint.latitude);
           });
    });

	</script>

	<div id="viewDiv"></div>
</body>
</html>
